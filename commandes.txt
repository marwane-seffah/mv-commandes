\\\
sudo apt update
sudo apt install -y apache2 libapache2-mpm-itk
sudo apt install -y mariadb-server mariadb-client
sudo apt install -y libapache2-mod-php php-mysql
sudo apt install -y phpmyadmin
sudo apt install -y flatpak gnome-software-plugin-flatpak
flatpak remote-add --if-not-exists flathub https://dl.flathub.org/repo/flathub.flatpakrepo --system
exit
flatpak install -y flathub com.vscodium.codium

wget -O /tmp/ublock-origin.xpi \
"https://addons.mozilla.org/firefox/downloads/latest/ublock-origin/latest.xpi"
cp /tmp/ublock-origin.xpi /usr/lib/abrowser/distribution/extensions/ublock0@raymondhill.net.xpi

sudo apt install software-properties-common
sudo add-apt-repository -y ppa:team-xbmc/ppa
sudo apt install kodi

// sûr que ça marche !
apt install ncdu (voit stockage et memoire)
// fond écran
crée fichier .desktop dans /etc/xdg/autostart
nano (fichier)

dans fichier mettre : 

[Desktop Entry]
Type=Application
Name=Set Custom Wallpaper
Exec=pcmanfm --set-wallpaper /usr/share/backgrounds/custom_wallpaper.jpg --wallpaper-mode=fit
OnlyShowIn=LXDE;
X-GNOME-Autostart-enabled=true

chmod 644 /etc/xdg/autostart/(fichier).desktop

https://flathub.org/fr/setup/Ubuntu
https://doc.ubuntu-fr.org/visual_studio_code
https://forums.whonix.org/t/flatpak-install-user-error-no-remote-refs-found/20392/5


server web :
sudo mkdir -p /etc/skel/www
sudo chmod 755 /etc/skel/www
sudo cp -a /etc/apache2/sites-available/default-ssl.conf \
           /etc/apache2/sites-available/pa-ubuntu-vm.conf


------------------------------------------------
Sauveguarde

```
// chroot

touch /var/log/backup.log
nano /usr/local/bin/system-backup.sh
sudo chmod 755 /usr/local/bin/system-backup.sh
// add script


apt install borgbackup

mkdir /var/backupdrive
mkdir /var/backupdrive/borg
chown root:root /var/backupdrive/borg
chmod 700 /var/backupdrive/borg

borg init --encryption=repokey /var/backupdrive/borg
    
sudo crontab -e
0 3 * * * /usr/local/bin/system-backup.sh
```


```
#!/bin/bash
// Script

export BORG_REPO="/var/backupdrive/borg"
LOGFILE="/var/log/backup.log"

borg create $BORG_REPO::'{hostname}-{now}'               \
    --verbose                       \
    --filter AME                    \
    --list                          \
    --stats                         \
    --show-rc                       \
    --compression lz4               \
    --exclude-caches                \
    --exclude 'home/*/.cache/*'     \
    --exclude 'var/tmp/*'           \
                                    \
    /etc                            \
    /home                           \
    /root                           \
    /var

echo "Pruning repository"

borg prune $BORG_REPO                         \
    --list                          \
    --glob-archives '{hostname}-*'  \
    --show-rc                       \
    --keep-daily    7               \
    --keep-weekly   4               \
    --keep-monthly  6
prune_exit=$?

echo "Compacting repository"
borg compact

borg check $BORG_REPO >> $LOGFILE 2>&1
